<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>s3 Bucket Search Engine</title>
  
  
  <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css'>

      <link rel="stylesheet" href="style.css">

  
</head>

<body>
      <div class="container">
      <div class="row">
        <div class="col-sm-6 col-sm-offset-3">
          <form action="#" class="form">
            <h3><center>s3 Bucket Search Engine</center></h3>
            <p><center>This system updates every 24 hrs.</center></p>
            <input class="form-control" id="s3" name="s3" type="text" placeholder='Search by company name' />
          </form>
        </div>
      </div>
    </div>
  <script src='https://cdn.jsdelivr.net/jquery/2.1.4/jquery.min.js'></script>
<script src='https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js'></script>
<script src='https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js'></script>
<br>
<table>
    <tr>
        <th>
        <center>Buckets</center>
        </th>
    </tr>
    <tr>
        <td id="buckets"></td>
    </tr>
</table>

 <script>
           var client = algoliasearch('U528LYS5H9', '9af997829ca487a4aa1ea286a91ee84b');
      var index = client.initIndex('s3buckets');

      $('#s3').autocomplete({ hint: true, minLength: 3,debug: true }, [
        { 
          
          source: function(q, cb) {
            index.search(q, { hitsPerPage: 5 }, function(error, content) {
              if (error) {
                cb([]);
                return;
              }
              cb(content.hits, content);
            });
          },
          displayKey: 'name',
          templates: {
            suggestion: function(suggestion) {
                i=0;
                bucket_val="";
                while(i < suggestion._highlightResult.buckets.length){
                    bucket_val += "<p><center>"+suggestion._highlightResult.buckets[i].value+"</center></p>";
                    i++;
                }
                document.getElementById("buckets").innerHTML = bucket_val;
            }
          }
        }
        
      ]);
      
 </script>
  
  <br><p><a href="https://github.com/rojan-rijal/rojan-rijal.github.io">FAQ</a></p>
  <br><p><center>DB hosted on Algolia </center></p>
</body>
</html>
